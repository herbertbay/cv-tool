(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3115:(e,t,l)=>{"use strict";l.r(t),l.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),l(908),l(8957),l(5866);var a=l(3191),s=l(8716),n=l(7922),r=l.n(n),i=l(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);l.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(l.bind(l,908)),"/Users/herbertbay/CV-Tool/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(l.bind(l,8957)),"/Users/herbertbay/CV-Tool/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(l.t.bind(l,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/herbertbay/CV-Tool/frontend/app/page.tsx"],u="/page",m={require:l,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7885:(e,t,l)=>{Promise.resolve().then(l.bind(l,5553))},4753:(e,t,l)=>{Promise.resolve().then(l.bind(l,8743))},1073:(e,t,l)=>{Promise.resolve().then(l.t.bind(l,2994,23)),Promise.resolve().then(l.t.bind(l,6114,23)),Promise.resolve().then(l.t.bind(l,9727,23)),Promise.resolve().then(l.t.bind(l,9671,23)),Promise.resolve().then(l.t.bind(l,1868,23)),Promise.resolve().then(l.t.bind(l,4759,23))},1536:(e,t,l)=>{"use strict";l.d(t,{Ai:()=>h,Uc:()=>g,Wl:()=>p,e0:()=>f,iF:()=>v,jG:()=>y,jo:()=>i,kS:()=>c,nC:()=>j,tQ:()=>m,tm:()=>u,wC:()=>b,x4:()=>o,z2:()=>d});let a=function(){let e=process.env.NEXT_PUBLIC_API_URL?.trim().replace(/\/api\/?$/,"")||"";return e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"http://localhost:8000"}(),s=`${a}/api`,n={credentials:"include"};function r(e){e.status}async function i(){let e=await fetch(`${a}/api/auth/me`,n);if(401===e.status)return null;if(!e.ok)throw Error("Failed to get user");return e.json()}async function o(e,t){let l=await fetch(`${a}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),...n});if(!l.ok)throw Error((await l.json().catch(()=>({detail:l.statusText}))).detail||"Login failed");return l.json()}async function d(e,t){let l=await fetch(`${a}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),...n});if(!l.ok)throw Error((await l.json().catch(()=>({detail:l.statusText}))).detail||"Registration failed");return l.json()}async function c(){await fetch(`${a}/api/auth/logout`,{method:"POST",...n})}async function u(){if(!(await fetch(`${a}/api/auth/delete-account`,{method:"POST",...n})).ok)throw Error("Failed to delete account")}async function m(e){let t=new FormData;t.append("file",e);let l=await fetch(`${s}/parse-cv`,{method:"POST",body:t,...n});if(l.status,!l.ok){if(401===l.status)throw Error("Please sign in to upload and save your CV.");throw Error((await l.json().catch(()=>({detail:l.statusText}))).detail||"Failed to parse file")}return l.json()}async function h(){let e=await fetch(`${s}/profile`,n);if(e.status,!e.ok)throw Error("Failed to load profile");let t=await e.json();return{profile:t.profile??x(),additional_urls:Array.isArray(t.additional_urls)?t.additional_urls:[],personal_summary:"string"==typeof t.personal_summary?t.personal_summary:"",onboarding_complete:!!t.onboarding_complete}}function x(){return{full_name:"",headline:null,summary:"",email:null,phone:null,address:null,linkedin_url:null,photo_base64:null,experience:[],education:[],skills:[],certifications:[],languages:[]}}async function p(e){let t={};void 0!==e.profile&&(t.profile=e.profile),void 0!==e.additional_urls&&(t.additional_urls=e.additional_urls),void 0!==e.personal_summary&&(t.personal_summary=e.personal_summary),void 0!==e.onboarding_complete&&(t.onboarding_complete=e.onboarding_complete);let l=await fetch(`${s}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),...n});if(l.status,!l.ok)throw Error("Failed to save");let a=await l.json();return{profile:a.profile??x(),additional_urls:Array.isArray(a.additional_urls)?a.additional_urls:[],personal_summary:"string"==typeof a.personal_summary?a.personal_summary:"",onboarding_complete:!!a.onboarding_complete}}async function f(e){return p({profile:e})}async function b(e,t){let l=await fetch(`${s}/fetch-job-description`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e||void 0,text:t||void 0}),...n});if(!l.ok)throw Error("Failed to fetch job description");return l.json()}async function g(e){let t=await fetch(`${s}/generate-cv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),...n});if(!t.ok)throw Error((await t.json().catch(()=>({detail:t.statusText}))).detail||"Failed to generate CV");return t.json()}async function y(e,t){let l=await fetch(`${s}/download-pdf/${e}`,n);if(!l.ok)throw Error("Download failed");let a=await l.blob(),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=t??`cv_${e.slice(0,8)}.pdf`,i.click(),URL.revokeObjectURL(r)}async function j(e,t){let l=await fetch(`${s}/download-letter/${e}`,n);if(!l.ok)throw Error("Download failed");let a=await l.blob(),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download=t??`motivation_letter_${e.slice(0,8)}.pdf`,i.click(),URL.revokeObjectURL(r)}async function v(e="cv_base.html"){let t=await fetch(function(e="cv_base.html"){return`${s}/preview-cv-html?template=${encodeURIComponent(e)}`}(e),n);if(!t.ok)throw Error(401===t.status?"Sign in to preview":"Preview failed");let l=await t.text(),a=window.open("","_blank");a&&(a.document.write(l),a.document.close())}},5553:(e,t,l)=>{"use strict";l.d(t,{AuthProvider:()=>i,a:()=>o});var a=l(326),s=l(7577),n=l(1536);let r=(0,s.createContext)(null);function i({children:e}){let[t,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),d=(0,s.useCallback)(async()=>{let e=await (0,n.jo)();l(e?.user??null)},[]),c=(0,s.useCallback)(e=>l(e),[]),u=(0,s.useCallback)(async()=>{await (0,n.kS)(),l(null)},[]);return a.jsx(r.Provider,{value:{user:t,loading:i,refresh:d,setUserFromAuth:c,logout:u},children:e})}function o(){let e=(0,s.useContext)(r);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},8743:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>u});var a=l(326),s=l(7577),n=l(434),r=l(1536),i=l(5553);let o=[{value:"en",label:"English"},{value:"de",label:"German"},{value:"fr",label:"French"}],d={full_name:"",headline:null,summary:"",email:null,phone:null,address:null,linkedin_url:null,photo_base64:null,experience:[],education:[],skills:[],certifications:[],languages:[]};function c(e){return!!e?.full_name?.trim()||!!e?.summary?.trim()||(e?.experience?.length??0)>0||(e?.education?.length??0)>0||(e?.skills?.length??0)>0}function u(){let{user:e,logout:t}=(0,i.a)(),[l,o]=(0,s.useState)(null),[u,p]=(0,s.useState)(!0),[f,b]=(0,s.useState)(1),[g,y]=(0,s.useState)(["","","","",""]),[j,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[_,C]=(0,s.useState)(!1),[k,P]=(0,s.useState)(null),[S,E]=(0,s.useState)(""),[T,U]=(0,s.useState)(null),[F,V]=(0,s.useState)(!1),[D,L]=(0,s.useState)(""),[A,$]=(0,s.useState)(!1),[O,R]=(0,s.useState)("en"),[G,W]=(0,s.useState)("cv_base.html"),[J,q]=(0,s.useState)(""),[I,M]=(0,s.useState)(null),[B,z]=(0,s.useState)(null),[H,Q]=(0,s.useState)(0),X=(0,s.useCallback)(async()=>{e&&(p(!0),(0,r.Ai)().then(e=>{o(e),c(e.profile)&&!e.onboarding_complete&&(b(2),y(Array.isArray(e.additional_urls)&&e.additional_urls.length>0?e.additional_urls:["","","","",""]))}).catch(()=>o(null)).finally(()=>p(!1)))},[e]),Y=(0,s.useCallback)(async t=>{let l=t.target.files?.[0];if(l&&e){U(null),E(l.name.toLowerCase().endsWith(".pdf")?"Parsing PDF…":"Parsing file…");try{let e=await (0,r.tQ)(l);o(t=>({profile:e,additional_urls:t?.additional_urls??[],personal_summary:t?.personal_summary??"",onboarding_complete:t?.onboarding_complete??!1})),E(""),b(2)}catch(e){U(e instanceof Error?e.message:"Parse failed"),E("")}}},[e]),K=(0,s.useCallback)(async()=>{if(e){C(!0),P(null);try{let e=g.filter(e=>e.trim().startsWith("http"));await (0,r.Wl)({additional_urls:e}),o(t=>t?{...t,additional_urls:e}:null),b(3)}catch(e){P(e instanceof Error?e.message:"Failed to save")}finally{C(!1)}}},[e,g]),Z=(0,s.useCallback)(e=>{let t=e.target.files?.[0];if(!t)return;v(t);let a=new FileReader;a.onload=()=>N(e=>({...e??l?.profile??d,photo_base64:a.result})),a.readAsDataURL(t)},[l?.profile]),ee=(0,s.useCallback)(async()=>{if(e){C(!0),P(null);try{let e=w??l?.profile??d;await (0,r.Wl)({profile:e,onboarding_complete:!0}),await X()}catch(e){P(e instanceof Error?e.message:"Failed to save")}finally{C(!1)}}},[e,w,l?.profile,X]),et=(0,s.useCallback)(()=>{V(!0),q(""),M(null),z(null)},[]),el=(0,s.useCallback)(async()=>{if(D.trim()){M(null),q("Fetching job description…");try{let{content:e}=await (0,r.wC)(A?D.trim():null,A?null:D.trim());L(e||D),q("")}catch(e){M(e instanceof Error?e.message:"Fetch failed"),q("")}}},[D,A]),ea=(0,s.useCallback)(async()=>{let e=l?.profile??d;if(!c(e)){M("Profile is missing. Edit your information first.");return}M(null),q("Preparing…");try{let t=!!D.trim();q(t?"Generating tailored CV and motivation letter…":"Generating tailored CV…");let a=l?.additional_urls?.filter(e=>e?.trim().startsWith("http"))??[],s=await (0,r.Uc)({profile:e,job_description:D.trim(),personal_summary:l?.personal_summary?.trim()||void 0,additional_urls:a,language:O,template:G});z(s),Q(e=>e+1),q("")}catch(e){M(e instanceof Error?e.message:"Generation failed"),q("")}},[l,D,O,G]),es=w??l?.profile??d,en=l?.onboarding_complete&&c(l.profile),er=e&&l&&!en;return(0,a.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("header",{className:"border-b border-slate-200 bg-white shadow-sm",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-4 flex items-center justify-between",children:[a.jsx("h1",{className:"text-xl font-bold text-slate-800",children:"CV-Tool"}),(0,a.jsxs)("nav",{className:"flex items-center gap-4",children:[en&&a.jsx(n.default,{href:"/profile",className:"text-slate-600 hover:text-slate-900",children:"Edit profile"}),e?(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{className:"text-sm text-slate-500",children:e.email}),a.jsx("button",{type:"button",onClick:()=>t(),className:"text-sm text-slate-600 hover:text-slate-900",children:"Sign out"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(n.default,{href:"/login",className:"text-slate-600 hover:text-slate-900",children:"Sign in"}),a.jsx(n.default,{href:"/register",className:"text-slate-600 hover:text-slate-900",children:"Sign up"})]})]})]})}),(0,a.jsxs)("main",{className:"mx-auto max-w-6xl px-4 py-8",children:[!e&&(0,a.jsxs)("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-100 px-4 py-3 text-sm text-slate-700",children:[a.jsx(n.default,{href:"/login",className:"font-medium text-blue-600 hover:underline",children:"Sign in"})," to save your CV and use the full flow."]}),e&&u&&a.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center text-slate-600",children:"Loading…"}),er&&!u&&a.jsx(m,{step:f,userData:l,additionalUrls:g,setAdditionalUrls:y,profileWithPhoto:es,onCVUpload:Y,onPhotoChange:Z,onNextFromUrls:K,onComplete:ee,saving:_,parseProgress:S,parseError:T,error:k}),e&&en&&!u&&a.jsx(h,{userData:l,onOpenCreate:et,refreshTrigger:H}),F&&a.jsx(x,{jobDescription:D,setJobDescription:L,jobIsUrl:A,setJobIsUrl:$,language:O,setLanguage:R,template:G,setTemplate:W,progress:J,error:I,result:B,onFetchJob:el,onGenerate:ea,onClose:()=>{V(!1),z(null)},onDownloadPdf:r.jG,onDownloadLetter:r.nC})]})]})}function m({step:e,userData:t,additionalUrls:l,setAdditionalUrls:s,profileWithPhoto:n,onCVUpload:r,onPhotoChange:i,onNextFromUrls:o,onComplete:d,saving:c,parseProgress:u,parseError:m,error:h}){return(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm max-w-2xl mx-auto space-y-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-slate-800",children:[1===e&&"Step 1: Upload your CV",2===e&&"Step 2: Additional links (optional)",3===e&&"Step 3: Profile photo (optional)"]}),1===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Upload your CV as a PDF (e.g. exported from LinkedIn or other sources). We’ll extract your information."}),a.jsx("input",{type:"file",accept:".pdf,.json",onChange:r,className:"block w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700"}),u&&a.jsx("p",{className:"text-sm text-blue-600",children:u}),m&&a.jsx("p",{className:"text-sm text-red-600",children:m})]}),2===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Add any links you want to include (e.g. Wikipedia, personal homepage)."}),a.jsx("div",{className:"space-y-2",children:l.map((e,t)=>a.jsx("input",{type:"url",value:e,onChange:e=>{let a=[...l];a[t]=e.target.value,s(a)},placeholder:`URL ${t+1}`,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"},t))}),h&&a.jsx("p",{className:"text-sm text-red-600",children:h}),a.jsx("button",{type:"button",onClick:o,disabled:c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Saving…":"Next: Add photo"})]}),3===e&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-slate-600",children:"Add a profile photo if you like."}),n.photo_base64&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:n.photo_base64,alt:"Profile",className:"h-20 w-20 rounded-full object-cover border border-slate-200"}),a.jsx("span",{className:"text-sm text-slate-600",children:"Photo added"})]}),a.jsx("input",{type:"file",accept:"image/*",onChange:i,className:"block w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700"}),h&&a.jsx("p",{className:"text-sm text-red-600",children:h}),a.jsx("button",{type:"button",onClick:d,disabled:c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Saving…":"Save and continue"})]})]})}function h({userData:e,onOpenCreate:t,refreshTrigger:l}){let i=e.profile,[o,d]=(0,s.useState)([]),[c,u]=(0,s.useState)(!0),[m,h]=(0,s.useState)(null),x=(0,s.useCallback)(async e=>{h(null);try{await (0,r.jG)(e)}catch{h("Download failed")}},[]),p=(0,s.useCallback)(async e=>{h(null);try{await (0,r.nC)(e)}catch{h("Download failed")}},[]),f=e=>{try{let t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{dateStyle:"medium"})+" "+t.toLocaleTimeString(void 0,{timeStyle:"short"})}catch{return e}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Your information"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6",children:[i.photo_base64&&a.jsx("img",{src:i.photo_base64,alt:"Profile",className:"h-24 w-24 rounded-full object-cover border border-slate-200 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1 space-y-2 text-sm text-slate-700",children:[i.full_name&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",i.full_name]}),i.headline&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Headline:"})," ",i.headline]}),i.summary&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Summary:"})," ",i.summary.slice(0,200),i.summary.length>200?"…":""]}),(i.experience?.length??0)>0&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Experience:"})," ",i.experience.length," position(s)"]}),(i.education?.length??0)>0&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Education:"})," ",i.education.length," entry(ies)"]}),(i.skills?.length??0)>0&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Skills:"})," ",i.skills.slice(0,5).join(", "),i.skills.length>5?"…":""]}),(e.additional_urls?.length??0)>0&&(0,a.jsxs)("p",{children:[a.jsx("span",{className:"font-medium",children:"Additional links:"})," ",e.additional_urls.filter(Boolean).join(", ")]})]})]}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(n.default,{href:"/profile",className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Edit information"}),a.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700",children:"Create CV & motivation letter"}),a.jsx("button",{type:"button",onClick:()=>(0,r.iF)("cv_executive.html").catch(e=>window.alert(e.message)),className:"inline-flex items-center rounded-lg border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Preview CV (HTML)"})]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800 mb-4",children:"Generated CVs & motivation letters"}),c&&a.jsx("p",{className:"text-sm text-slate-500",children:"Loading…"}),!c&&0===o.length&&a.jsx("p",{className:"text-sm text-slate-500",children:"No generated CVs yet. Use “Create CV & motivation letter” above."}),!c&&o.length>0&&a.jsx("ul",{className:"space-y-3",children:o.map(e=>(0,a.jsxs)("li",{className:"flex flex-wrap items-center gap-3 py-2 border-b border-slate-100 last:border-0",children:[a.jsx("span",{className:"text-sm text-slate-600",children:f(e.created_at)}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",onClick:()=>x(e.session_id),className:"inline-flex items-center rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700",children:"Download CV (PDF)"}),e.has_letter_pdf&&a.jsx("button",{type:"button",onClick:()=>p(e.session_id),className:"inline-flex items-center rounded-lg bg-slate-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-slate-700",children:"Download letter (PDF)"})]})]},e.session_id))}),m&&a.jsx("p",{className:"mt-2 text-sm text-red-600",children:m})]})]})}function x({jobDescription:e,setJobDescription:t,jobIsUrl:l,setJobIsUrl:s,language:n,setLanguage:r,template:i,setTemplate:d,progress:c,error:u,result:m,onFetchJob:h,onGenerate:x,onClose:p,onDownloadPdf:f,onDownloadLetter:b}){return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:p,children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto p-6",onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Create CV & motivation letter"}),a.jsx("button",{type:"button",onClick:p,className:"text-slate-400 hover:text-slate-600",children:"✕"})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job description (optional)"}),(0,a.jsxs)("div",{className:"flex gap-2 mb-1",children:[(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"radio",checked:!l,onChange:()=>s(!1)})," Paste text"]}),(0,a.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"radio",checked:l,onChange:()=>s(!0)})," URL"]})]}),a.jsx("textarea",{value:e,onChange:e=>t(e.target.value),rows:3,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:l?"https://…":"Paste job description…"}),l&&a.jsx("button",{type:"button",onClick:h,className:"mt-1 text-sm text-blue-600 hover:underline",children:"Fetch from URL"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Language"}),a.jsx("select",{value:n,onChange:e=>r(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:o.map(e=>a.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"CV template"}),(0,a.jsxs)("select",{value:i,onChange:e=>d(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:[a.jsx("option",{value:"cv_base.html",children:"Modern"}),a.jsx("option",{value:"cv_executive.html",children:"Executive"})]})]}),c&&a.jsx("p",{className:"text-sm text-blue-600",children:c}),u&&a.jsx("p",{className:"text-sm text-red-600",children:u}),(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[a.jsx("button",{type:"button",onClick:x,disabled:!!c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Working…":"Generate"}),a.jsx("button",{type:"button",onClick:p,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"})]}),m&&(0,a.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Done. Download your files:"}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[a.jsx("button",{type:"button",onClick:()=>f(m.session_id),className:"inline-flex justify-center rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700",children:"Download CV (PDF)"}),m.motivation_letter?.trim()&&a.jsx("button",{type:"button",onClick:()=>b(m.session_id),className:"inline-flex justify-center rounded-lg bg-slate-600 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"Download motivation letter (PDF)"})]})]})]})]})})}},8957:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>i,metadata:()=>r});var a=l(9510);l(7272);var s=l(8570);let n=(0,s.createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/lib/auth-context.tsx#AuthProvider`);(0,s.createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/lib/auth-context.tsx#useAuth`);let r={title:"CV-Tool — Tailored CVs & Motivation Letters",description:"Generate tailored CVs and motivation letters for job applications.",icons:{icon:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' fill='%232563eb'/></svg>"}};function i({children:e}){return a.jsx("html",{lang:"en",children:a.jsx("body",{className:"min-h-screen antialiased",children:a.jsx(n,{children:e})})})}},908:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>a});let a=(0,l(8570).createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var l=e=>t(t.s=e),a=t.X(0,[819,434],()=>l(3115));module.exports=a})();