(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3115:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),a(908),a(8957),a(5866);var l=a(3191),s=a(8716),r=a(7922),n=a.n(r),i=a(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,908)),"/Users/herbertbay/CV-Tool/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,8957)),"/Users/herbertbay/CV-Tool/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/herbertbay/CV-Tool/frontend/app/page.tsx"],u="/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new l.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7234:(e,t,a)=>{Promise.resolve().then(a.bind(a,5553))},4753:(e,t,a)=>{Promise.resolve().then(a.bind(a,8743))},1073:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},1536:(e,t,a)=>{"use strict";a.d(t,{Ai:()=>x,Uc:()=>g,Wl:()=>h,e0:()=>f,iF:()=>v,jG:()=>j,jo:()=>i,kS:()=>c,nC:()=>y,tQ:()=>m,tm:()=>u,wC:()=>b,x4:()=>o,z2:()=>d});let l=function(){let e=process.env.NEXT_PUBLIC_API_URL?.trim().replace(/\/api\/?$/,"")||"";return e?e.startsWith("http://")||e.startsWith("https://")?e:`https://${e}`:"http://localhost:8000"}(),s=`${l}/api`,r={credentials:"include"};function n(e){e.status}async function i(){let e=await fetch(`${l}/api/auth/me`,r);if(401===e.status)return null;if(!e.ok)throw Error("Failed to get user");return e.json()}async function o(e,t){let a=await fetch(`${l}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),...r});if(!a.ok)throw Error((await a.json().catch(()=>({detail:a.statusText}))).detail||"Login failed");return a.json()}async function d(e,t){let a=await fetch(`${l}/api/auth/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t}),...r});if(!a.ok)throw Error((await a.json().catch(()=>({detail:a.statusText}))).detail||"Registration failed");return a.json()}async function c(){await fetch(`${l}/api/auth/logout`,{method:"POST",...r})}async function u(){if(!(await fetch(`${l}/api/auth/delete-account`,{method:"POST",...r})).ok)throw Error("Failed to delete account")}async function m(e){let t=new FormData;t.append("file",e);let a=await fetch(`${s}/parse-cv`,{method:"POST",body:t,...r});if(a.status,!a.ok){if(401===a.status)throw Error("Please sign in to upload and save your CV.");throw Error((await a.json().catch(()=>({detail:a.statusText}))).detail||"Failed to parse file")}return a.json()}async function x(){let e=await fetch(`${s}/profile`,r);if(e.status,!e.ok)throw Error("Failed to load profile");let t=await e.json();return{profile:t.profile??p(),additional_urls:Array.isArray(t.additional_urls)?t.additional_urls:[],personal_summary:"string"==typeof t.personal_summary?t.personal_summary:"",onboarding_complete:!!t.onboarding_complete}}function p(){return{full_name:"",headline:null,summary:"",email:null,phone:null,address:null,linkedin_url:null,photo_base64:null,experience:[],education:[],skills:[],certifications:[],languages:[]}}async function h(e){let t={};void 0!==e.profile&&(t.profile=e.profile),void 0!==e.additional_urls&&(t.additional_urls=e.additional_urls),void 0!==e.personal_summary&&(t.personal_summary=e.personal_summary),void 0!==e.onboarding_complete&&(t.onboarding_complete=e.onboarding_complete);let a=await fetch(`${s}/profile`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),...r});if(a.status,!a.ok)throw Error("Failed to save");let l=await a.json();return{profile:l.profile??p(),additional_urls:Array.isArray(l.additional_urls)?l.additional_urls:[],personal_summary:"string"==typeof l.personal_summary?l.personal_summary:"",onboarding_complete:!!l.onboarding_complete}}async function f(e){return h({profile:e})}async function b(e,t){let a=await fetch(`${s}/fetch-job-description`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e||void 0,text:t||void 0}),...r});if(!a.ok)throw Error("Failed to fetch job description");return a.json()}async function g(e){let t=await fetch(`${s}/generate-cv`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),...r});if(!t.ok)throw Error((await t.json().catch(()=>({detail:t.statusText}))).detail||"Failed to generate CV");return t.json()}async function j(e,t){let a=await fetch(`${s}/download-pdf/${e}`,r);if(!a.ok)throw Error("Download failed");let l=await a.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=t??`cv_${e.slice(0,8)}.pdf`,i.click(),URL.revokeObjectURL(n)}async function y(e,t){let a=await fetch(`${s}/download-letter/${e}`,r);if(!a.ok)throw Error("Download failed");let l=await a.blob(),n=URL.createObjectURL(l),i=document.createElement("a");i.href=n,i.download=t??`motivation_letter_${e.slice(0,8)}.pdf`,i.click(),URL.revokeObjectURL(n)}async function v(e="cv_base.html"){let t=await fetch(function(e="cv_base.html"){return`${s}/preview-cv-html?template=${encodeURIComponent(e)}`}(e),r);if(!t.ok)throw Error(401===t.status?"Sign in to preview":"Preview failed");let a=await t.text(),l=window.open("","_blank");l&&(l.document.write(a),l.document.close())}},5553:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>i,a:()=>o});var l=a(326),s=a(7577),r=a(1536);let n=(0,s.createContext)(null);function i({children:e}){let[t,a]=(0,s.useState)(null),[i,o]=(0,s.useState)(!0),d=(0,s.useCallback)(async()=>{let e=await (0,r.jo)();a(e?.user??null)},[]),c=(0,s.useCallback)(e=>a(e),[]),u=(0,s.useCallback)(async()=>{await (0,r.kS)(),a(null)},[]);return l.jsx(n.Provider,{value:{user:t,loading:i,refresh:d,setUserFromAuth:c,logout:u},children:e})}function o(){let e=(0,s.useContext)(n);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},8743:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var l=a(326),s=a(7577),r=a(434),n=a(1536),i=a(5553);let o=[{value:"en",label:"English"},{value:"de",label:"German"},{value:"fr",label:"French"}],d={full_name:"",headline:null,summary:"",email:null,phone:null,address:null,linkedin_url:null,photo_base64:null,experience:[],education:[],skills:[],certifications:[],languages:[]};function c(e){return!!e?.full_name?.trim()||!!e?.summary?.trim()||(e?.experience?.length??0)>0||(e?.education?.length??0)>0||(e?.skills?.length??0)>0}function u(){let{user:e,logout:t}=(0,i.a)(),[a,o]=(0,s.useState)(null),[u,h]=(0,s.useState)(!0),[f,b]=(0,s.useState)(1),[g,j]=(0,s.useState)(["","","","",""]),[y,v]=(0,s.useState)(null),[w,N]=(0,s.useState)(null),[_,C]=(0,s.useState)(!1),[k,P]=(0,s.useState)(null),[S,E]=(0,s.useState)(""),[T,U]=(0,s.useState)(null),[F,L]=(0,s.useState)(!1),[V,A]=(0,s.useState)(""),[D,$]=(0,s.useState)(!1),[O,R]=(0,s.useState)("en"),[G,W]=(0,s.useState)("cv_base.html"),[J,q]=(0,s.useState)(""),[I,M]=(0,s.useState)(null),[B,z]=(0,s.useState)(null),[H,Q]=(0,s.useState)(0),X=(0,s.useCallback)(async()=>{e&&(h(!0),(0,n.Ai)().then(e=>{o(e),c(e.profile)&&!e.onboarding_complete&&(b(2),j(Array.isArray(e.additional_urls)&&e.additional_urls.length>0?e.additional_urls:["","","","",""]))}).catch(()=>o(null)).finally(()=>h(!1)))},[e]),Y=(0,s.useCallback)(async t=>{let a=t.target.files?.[0];if(a&&e){U(null),E(a.name.toLowerCase().endsWith(".pdf")?"Parsing PDF…":"Parsing file…");try{let e=await (0,n.tQ)(a);o(t=>({profile:e,additional_urls:t?.additional_urls??[],personal_summary:t?.personal_summary??"",onboarding_complete:t?.onboarding_complete??!1})),E(""),b(2)}catch(e){U(e instanceof Error?e.message:"Parse failed"),E("")}}},[e]),K=(0,s.useCallback)(async()=>{if(e){C(!0),P(null);try{let e=g.filter(e=>e.trim().startsWith("http"));await (0,n.Wl)({additional_urls:e}),o(t=>t?{...t,additional_urls:e}:null),b(3)}catch(e){P(e instanceof Error?e.message:"Failed to save")}finally{C(!1)}}},[e,g]),Z=(0,s.useCallback)(e=>{let t=e.target.files?.[0];if(!t)return;v(t);let l=new FileReader;l.onload=()=>N(e=>({...e??a?.profile??d,photo_base64:l.result})),l.readAsDataURL(t)},[a?.profile]),ee=(0,s.useCallback)(async()=>{if(e){C(!0),P(null);try{let e=w??a?.profile??d;await (0,n.Wl)({profile:e,onboarding_complete:!0}),await X()}catch(e){P(e instanceof Error?e.message:"Failed to save")}finally{C(!1)}}},[e,w,a?.profile,X]),et=(0,s.useCallback)(()=>{L(!0),q(""),M(null),z(null)},[]),ea=(0,s.useCallback)(async()=>{if(V.trim()){M(null),q("Fetching job description…");try{let{content:e}=await (0,n.wC)(D?V.trim():null,D?null:V.trim());A(e||V),q("")}catch(e){M(e instanceof Error?e.message:"Fetch failed"),q("")}}},[V,D]),el=(0,s.useCallback)(async()=>{let e=a?.profile??d;if(!c(e)){M("Profile is missing. Edit your information first.");return}M(null),q("Preparing…");try{let t=!!V.trim();q(t?"Generating tailored CV and motivation letter…":"Generating tailored CV…");let l=a?.additional_urls?.filter(e=>e?.trim().startsWith("http"))??[],s=await (0,n.Uc)({profile:e,job_description:V.trim(),personal_summary:a?.personal_summary?.trim()||void 0,additional_urls:l,language:O,template:G});z(s),Q(e=>e+1),q("")}catch(e){M(e instanceof Error?e.message:"Generation failed"),q("")}},[a,V,O,G]),es=w??a?.profile??d,er=a?.onboarding_complete&&c(a.profile),en=e&&a&&!er;return(0,l.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[l.jsx("header",{className:"border-b border-slate-200 bg-white shadow-sm",children:(0,l.jsxs)("div",{className:"mx-auto max-w-6xl px-6 py-4 flex items-center justify-between",children:[l.jsx(r.default,{href:"/",className:"text-lg font-semibold tracking-tight text-slate-800 hover:text-slate-900 transition-colors",children:"Optimal CV"}),(0,l.jsxs)("nav",{className:"flex items-center gap-4",children:[er&&l.jsx(r.default,{href:"/profile",className:"text-slate-600 hover:text-slate-900",children:"Edit profile"}),e?(0,l.jsxs)(l.Fragment,{children:[l.jsx("span",{className:"text-sm text-slate-500",children:e.email}),l.jsx("button",{type:"button",onClick:()=>t(),className:"text-sm text-slate-600 hover:text-slate-900",children:"Sign out"})]}):(0,l.jsxs)(l.Fragment,{children:[l.jsx(r.default,{href:"/login",className:"text-slate-600 hover:text-slate-900",children:"Sign in"}),l.jsx(r.default,{href:"/register",className:"text-slate-600 hover:text-slate-900",children:"Sign up"})]})]})]})}),(0,l.jsxs)("main",{className:"mx-auto max-w-6xl px-6 py-8",children:[!e&&(0,l.jsxs)("div",{className:"mb-6 rounded-lg border border-slate-200 bg-slate-100 px-4 py-3 text-sm text-slate-700",children:[l.jsx(r.default,{href:"/login",className:"font-medium text-blue-600 hover:underline",children:"Sign in"})," to save your CV and use the full flow."]}),e&&u&&l.jsx("div",{className:"rounded-xl border border-slate-200 bg-white p-8 text-center text-slate-600",children:"Loading…"}),en&&!u&&l.jsx(m,{step:f,userData:a,additionalUrls:g,setAdditionalUrls:j,profileWithPhoto:es,onCVUpload:Y,onPhotoChange:Z,onNextFromUrls:K,onComplete:ee,saving:_,parseProgress:S,parseError:T,error:k}),e&&er&&!u&&l.jsx(x,{userData:a,onOpenCreate:et,refreshTrigger:H}),F&&l.jsx(p,{jobDescription:V,setJobDescription:A,jobIsUrl:D,setJobIsUrl:$,language:O,setLanguage:R,template:G,setTemplate:W,progress:J,error:I,result:B,onFetchJob:ea,onGenerate:el,onClose:()=>{L(!1),z(null)},onDownloadPdf:n.jG,onDownloadLetter:n.nC})]})]})}function m({step:e,userData:t,additionalUrls:a,setAdditionalUrls:s,profileWithPhoto:r,onCVUpload:n,onPhotoChange:i,onNextFromUrls:o,onComplete:d,saving:c,parseProgress:u,parseError:m,error:x}){return(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 shadow-sm max-w-2xl mx-auto space-y-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-semibold text-slate-800",children:[1===e&&"Step 1: Upload your CV",2===e&&"Step 2: Additional links (optional)",3===e&&"Step 3: Profile photo (optional)"]}),1===e&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Upload your CV as a PDF (e.g. exported from LinkedIn or other sources). We’ll extract your information."}),l.jsx("input",{type:"file",accept:".pdf,.json",onChange:n,className:"block w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700"}),u&&l.jsx("p",{className:"text-sm text-blue-600",children:u}),m&&l.jsx("p",{className:"text-sm text-red-600",children:m})]}),2===e&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Add any links you want to include (e.g. Wikipedia, personal homepage)."}),l.jsx("div",{className:"space-y-2",children:a.map((e,t)=>l.jsx("input",{type:"url",value:e,onChange:e=>{let l=[...a];l[t]=e.target.value,s(l)},placeholder:`URL ${t+1}`,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm"},t))}),x&&l.jsx("p",{className:"text-sm text-red-600",children:x}),l.jsx("button",{type:"button",onClick:o,disabled:c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Saving…":"Next: Add photo"})]}),3===e&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("p",{className:"text-sm text-slate-600",children:"Add a profile photo if you like."}),r.photo_base64&&(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[l.jsx("img",{src:r.photo_base64,alt:"Profile",className:"h-20 w-20 rounded-full object-cover border border-slate-200"}),l.jsx("span",{className:"text-sm text-slate-600",children:"Photo added"})]}),l.jsx("input",{type:"file",accept:"image/*",onChange:i,className:"block w-full text-sm text-slate-600 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-50 file:text-blue-700"}),x&&l.jsx("p",{className:"text-sm text-red-600",children:x}),l.jsx("button",{type:"button",onClick:d,disabled:c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Saving…":"Save and continue"})]})]})}function x({userData:e,onOpenCreate:t,refreshTrigger:a}){let i=e.profile,[d,c]=(0,s.useState)([]),[u,m]=(0,s.useState)(!0),[x,p]=(0,s.useState)(null),h=(0,s.useCallback)(async e=>{p(null);try{await (0,n.jG)(e)}catch{p("Download failed")}},[]),f=(0,s.useCallback)(async e=>{p(null);try{await (0,n.nC)(e)}catch{p("Download failed")}},[]),b=e=>{try{let t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{dateStyle:"medium"})+" "+t.toLocaleTimeString(void 0,{timeStyle:"short"})}catch{return e}};return(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/80",children:l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Your information"})}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row gap-6",children:[i.photo_base64&&l.jsx("img",{src:i.photo_base64,alt:"Profile",className:"h-24 w-24 rounded-full object-cover border border-slate-200 flex-shrink-0"}),(0,l.jsxs)("div",{className:"min-w-0 flex-1 space-y-2 text-sm text-slate-700",children:[i.full_name&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Name:"})," ",i.full_name]}),i.headline&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Headline:"})," ",i.headline]}),i.summary&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Summary:"})," ",i.summary.slice(0,200),i.summary.length>200?"…":""]}),(i.experience?.length??0)>0&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Experience:"})," ",i.experience.length," position(s)"]}),(i.education?.length??0)>0&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Education:"})," ",i.education.length," entry(ies)"]}),(i.skills?.length??0)>0&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Skills:"})," ",i.skills.slice(0,5).join(", "),i.skills.length>5?"…":""]}),(e.additional_urls?.length??0)>0&&(0,l.jsxs)("p",{children:[l.jsx("span",{className:"font-medium",children:"Additional links:"})," ",e.additional_urls.filter(Boolean).join(", ")]})]})]}),(0,l.jsxs)("div",{className:"mt-5 flex flex-wrap gap-3",children:[l.jsx(r.default,{href:"/profile",className:"inline-flex items-center rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Edit information"}),l.jsx("button",{type:"button",onClick:t,className:"inline-flex items-center rounded-lg bg-slate-800 px-4 py-2 text-sm font-medium text-white hover:bg-slate-900 transition-colors",children:"Create CV & motivation letter"}),l.jsx("button",{type:"button",onClick:()=>(0,n.iF)("cv_executive.html").catch(e=>window.alert(e.message)),className:"inline-flex items-center rounded-lg border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 transition-colors",children:"Preview CV (HTML)"})]})]})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white shadow-sm overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-slate-100 bg-slate-50/80",children:l.jsx("h2",{className:"text-base font-semibold text-slate-800",children:"Generated CVs & motivation letters"})}),(0,l.jsxs)("div",{className:"p-6",children:[u&&l.jsx("p",{className:"text-sm text-slate-500 py-4",children:"Loading…"}),!u&&0===d.length&&l.jsx("p",{className:"text-sm text-slate-500 py-4",children:'No generated CVs yet. Use "Create CV & motivation letter" above.'}),!u&&d.length>0&&(0,l.jsxs)("div",{className:"border border-slate-200 rounded-lg overflow-hidden",children:[(0,l.jsxs)("div",{className:"grid gap-4 items-center px-4 py-3 text-xs font-medium uppercase tracking-wider text-slate-500 bg-slate-50 border-b border-slate-200",style:{gridTemplateColumns:"minmax(140px, 1fr) minmax(80px, 0.6fr) minmax(160px, 2fr) minmax(200px, auto)"},children:[l.jsx("span",{children:"Date"}),l.jsx("span",{children:"Language"}),l.jsx("span",{children:"Job description"}),l.jsx("span",{className:"text-right",children:"Actions"})]}),d.map(e=>(0,l.jsxs)("div",{className:"grid gap-4 items-center px-4 py-3 text-sm border-b border-slate-100 last:border-0 hover:bg-slate-50/50 transition-colors",style:{gridTemplateColumns:"minmax(140px, 1fr) minmax(80px, 0.6fr) minmax(160px, 2fr) minmax(200px, auto)"},children:[l.jsx("span",{className:"text-slate-700 tabular-nums",children:b(e.created_at)}),l.jsx("span",{className:"text-slate-600",children:e.language?o.find(t=>t.value===e.language)?.label??e.language:"—"}),null!=e.job_description&&""!==e.job_description?l.jsx("span",{className:"text-slate-600 truncate cursor-help border-b border-dotted border-slate-300 max-w-full",title:e.job_description,children:e.job_description.length>20?`${e.job_description.slice(0,20)}…`:e.job_description}):l.jsx("span",{className:"text-slate-400",children:"—"}),(0,l.jsxs)("div",{className:"flex gap-2 justify-end flex-shrink-0",children:[l.jsx("button",{type:"button",onClick:()=>h(e.session_id),className:"inline-flex items-center rounded-lg bg-emerald-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-emerald-700 transition-colors",children:"CV (PDF)"}),e.has_letter_pdf?l.jsx("button",{type:"button",onClick:()=>f(e.session_id),className:"inline-flex items-center rounded-lg bg-slate-600 px-3 py-1.5 text-sm font-medium text-white hover:bg-slate-700 transition-colors",children:"Letter (PDF)"}):l.jsx("span",{className:"inline-flex items-center rounded-lg border border-slate-200 bg-slate-50 px-3 py-1.5 text-sm text-slate-400",children:"No letter"})]})]},e.session_id))]}),x&&l.jsx("p",{className:"mt-3 text-sm text-red-600",children:x})]})]})]})}function p({jobDescription:e,setJobDescription:t,jobIsUrl:a,setJobIsUrl:s,language:r,setLanguage:n,template:i,setTemplate:d,progress:c,error:u,result:m,onFetchJob:x,onGenerate:p,onClose:h,onDownloadPdf:f,onDownloadLetter:b}){return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:h,children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto p-6",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Create CV & motivation letter"}),l.jsx("button",{type:"button",onClick:h,className:"text-slate-400 hover:text-slate-600",children:"✕"})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Job description (optional)"}),(0,l.jsxs)("div",{className:"flex gap-2 mb-1",children:[(0,l.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"radio",checked:!a,onChange:()=>s(!1)})," Paste text"]}),(0,l.jsxs)("label",{className:"inline-flex items-center gap-2 text-sm",children:[l.jsx("input",{type:"radio",checked:a,onChange:()=>s(!0)})," URL"]})]}),l.jsx("textarea",{value:e,onChange:e=>t(e.target.value),rows:3,className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",placeholder:a?"https://…":"Paste job description…"}),a&&l.jsx("button",{type:"button",onClick:x,className:"mt-1 text-sm text-blue-600 hover:underline",children:"Fetch from URL"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Language"}),l.jsx("select",{value:r,onChange:e=>n(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:o.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"CV template"}),(0,l.jsxs)("select",{value:i,onChange:e=>d(e.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",children:[l.jsx("option",{value:"cv_base.html",children:"Modern"}),l.jsx("option",{value:"cv_executive.html",children:"Executive"})]})]}),c&&l.jsx("p",{className:"text-sm text-blue-600",children:c}),u&&l.jsx("p",{className:"text-sm text-red-600",children:u}),(0,l.jsxs)("div",{className:"flex gap-2 pt-2",children:[l.jsx("button",{type:"button",onClick:p,disabled:!!c,className:"rounded-lg bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 disabled:opacity-50",children:c?"Working…":"Generate"}),l.jsx("button",{type:"button",onClick:h,className:"rounded-lg border border-slate-300 px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50",children:"Cancel"})]}),m&&(0,l.jsxs)("div",{className:"mt-4 pt-4 border-t border-slate-200 space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Done. Download your files:"}),(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[l.jsx("button",{type:"button",onClick:()=>f(m.session_id),className:"inline-flex justify-center rounded-lg bg-emerald-600 px-4 py-2 text-sm font-medium text-white hover:bg-emerald-700",children:"Download CV (PDF)"}),m.motivation_letter?.trim()&&l.jsx("button",{type:"button",onClick:()=>b(m.session_id),className:"inline-flex justify-center rounded-lg bg-slate-600 px-4 py-2 text-sm font-medium text-white hover:bg-slate-700",children:"Download motivation letter (PDF)"})]})]})]})]})})}},8957:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d,metadata:()=>o});var l=a(9510),s=a(8798),r=a.n(s);a(7272);var n=a(8570);let i=(0,n.createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/lib/auth-context.tsx#AuthProvider`);(0,n.createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/lib/auth-context.tsx#useAuth`);let o={title:"Optimal CV — Tailored CVs & Motivation Letters",description:"Generate tailored CVs and motivation letters for job applications.",icons:{icon:"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><rect width='32' height='32' rx='6' fill='%230f172a'/></svg>"}};function d({children:e}){return l.jsx("html",{lang:"en",className:r().variable,children:l.jsx("body",{className:"min-h-screen antialiased font-sans",children:l.jsx(i,{children:e})})})}},908:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});let l=(0,a(8570).createProxy)(String.raw`/Users/herbertbay/CV-Tool/frontend/app/page.tsx#default`)},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),l=t.X(0,[207,434],()=>a(3115));module.exports=l})();